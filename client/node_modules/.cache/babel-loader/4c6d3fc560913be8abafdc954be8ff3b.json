{"ast":null,"code":"import _slicedToArray from\"C:/Users/schac/Desktop/creativeproject-477477-475454/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import GlobalContext from'../GlobalContext';import{React,useState,useContext}from'react';// import { socket } from '../../socket';\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function JoinForm(){// const socket = socketClient('http://127.0.0.1:5000');\n// console.log(socket);\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),failure=_useState4[0],setFailure=_useState4[1];var _useContext=useContext(GlobalContext),page=_useContext.page,setPage=_useContext.setPage,socket=_useContext.socket;console.log(socket);socket.on('connect',function(){console.log(\"um\");});function handleChange(e){setValue(e.target.value);}function handleSubmit(e){console.log('Go to room '+value);socket.emit(\"joinRoom\",value);socket.once(\"joinRoom\",function(ans){if(ans==1){console.log(\"Let's go!\");setPage('name');}else{console.log(\"rip\");setFailure(true);}});e.preventDefault();}return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{id:\"code\",value:value,onChange:handleChange,type:\"text\",maxLength:\"4\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{id:\"joinRoom\",type:\"submit\",value:\"Join\"}),/*#__PURE__*/_jsx(\"br\",{}),failure&&/*#__PURE__*/_jsx(\"p\",{className:\"formFailure\",children:\"Invalid Room\"})]});}export default JoinForm;","map":{"version":3,"sources":["C:/Users/schac/Desktop/creativeproject-477477-475454/client/src/components/items/JoinForm.js"],"names":["GlobalContext","React","useState","useContext","JoinForm","value","setValue","failure","setFailure","page","setPage","socket","console","log","on","handleChange","e","target","handleSubmit","emit","once","ans","preventDefault"],"mappings":"kLAAA,MAAOA,CAAAA,aAAP,KAA0B,kBAA1B,CACA,OAASC,KAAT,CAAgBC,QAAhB,CAA0BC,UAA1B,KAA4C,OAA5C,CACA;wFAIA,QAASC,CAAAA,QAAT,EAAoB,CAChB;AACA;AAFgB,cAIUF,QAAQ,CAAC,EAAD,CAJlB,wCAITG,KAJS,eAIFC,QAJE,8BAKcJ,QAAQ,CAAC,KAAD,CALtB,yCAKTK,OALS,eAKAC,UALA,+BAMkBL,UAAU,CAACH,aAAD,CAN5B,CAMRS,IANQ,aAMRA,IANQ,CAMFC,OANE,aAMFA,OANE,CAMOC,MANP,aAMOA,MANP,CAQhBC,OAAO,CAACC,GAAR,CAAYF,MAAZ,EAEAA,MAAM,CAACG,EAAP,CAAU,SAAV,CAAqB,UAAM,CACvBF,OAAO,CAACC,GAAR,CAAY,IAAZ,EACH,CAFD,EAIA,QAASE,CAAAA,YAAT,CAAsBC,CAAtB,CAAyB,CACrBV,QAAQ,CAACU,CAAC,CAACC,MAAF,CAASZ,KAAV,CAAR,CACH,CACD,QAASa,CAAAA,YAAT,CAAsBF,CAAtB,CAAyB,CACrBJ,OAAO,CAACC,GAAR,CAAY,cAAgBR,KAA5B,EACAM,MAAM,CAACQ,IAAP,CAAY,UAAZ,CAAwBd,KAAxB,EACAM,MAAM,CAACS,IAAP,CAAY,UAAZ,CAAwB,SAAUC,GAAV,CAAe,CACnC,GAAIA,GAAG,EAAI,CAAX,CAAc,CACVT,OAAO,CAACC,GAAR,CAAY,WAAZ,EACAH,OAAO,CAAC,MAAD,CAAP,CACH,CAHD,IAIK,CACDE,OAAO,CAACC,GAAR,CAAY,KAAZ,EACAL,UAAU,CAAC,IAAD,CAAV,CACH,CACJ,CATD,EAWAQ,CAAC,CAACM,cAAF,GACH,CACD,mBACI,cAAM,QAAQ,CAAEJ,YAAhB,wBACI,cAAO,EAAE,CAAC,MAAV,CAAiB,KAAK,CAAEb,KAAxB,CAA+B,QAAQ,CAAEU,YAAzC,CAAuD,IAAI,CAAC,MAA5D,CAAmE,SAAS,CAAC,GAA7E,EADJ,cAEI,aAFJ,cAGI,cAAO,EAAE,CAAC,UAAV,CAAqB,IAAI,CAAC,QAA1B,CAAmC,KAAK,CAAC,MAAzC,EAHJ,cAII,aAJJ,CAKKR,OAAO,eAAI,UAAG,SAAS,CAAC,aAAb,0BALhB,GADJ,CASH,CAED,cAAeH,CAAAA,QAAf","sourcesContent":["import GlobalContext from '../GlobalContext';\r\nimport { React, useState, useContext } from 'react';\r\n// import { socket } from '../../socket';\r\n\r\n\r\n\r\nfunction JoinForm() {\r\n    // const socket = socketClient('http://127.0.0.1:5000');\r\n    // console.log(socket);\r\n\r\n    const [value, setValue] = useState('');\r\n    const [failure, setFailure] = useState(false);\r\n    const { page, setPage, socket } = useContext(GlobalContext);\r\n\r\n    console.log(socket);\r\n\r\n    socket.on('connect', () => {\r\n        console.log(\"um\")\r\n    });\r\n\r\n    function handleChange(e) {\r\n        setValue(e.target.value);\r\n    }\r\n    function handleSubmit(e) {\r\n        console.log('Go to room ' + value);\r\n        socket.emit(\"joinRoom\", value);\r\n        socket.once(\"joinRoom\", function (ans) {\r\n            if (ans == 1) {\r\n                console.log(\"Let's go!\");\r\n                setPage('name');\r\n            }\r\n            else {\r\n                console.log(\"rip\");\r\n                setFailure(true);\r\n            }\r\n        });\r\n\r\n        e.preventDefault();\r\n    }\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <input id=\"code\" value={value} onChange={handleChange} type=\"text\" maxLength=\"4\"></input>\r\n            <br></br>\r\n            <input id=\"joinRoom\" type=\"submit\" value=\"Join\"></input>\r\n            <br></br>\r\n            {failure && <p className=\"formFailure\">Invalid Room</p>}\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default JoinForm;"]},"metadata":{},"sourceType":"module"}